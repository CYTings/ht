{"remainingRequest":"/Users/chenyiding/TMS/CY/EP/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenyiding/TMS/CY/EP/src/views/modifyPassword/modifyPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenyiding/TMS/CY/EP/src/views/modifyPassword/modifyPassword.vue","mtime":1596203466782},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CgluYW1lOiAnbW9kaWZ5JywKCWRhdGEgKCkgewoJCXJldHVybiB7CgkJCWxvZ2dpbmc6IGZhbHNlLAoJCQlhY2NvdW50RXJyb3I6ICcnLAoJCQljYXB0Y2hhRXJyb3I6ICcnLAoJCQlhY3RpdmVLZXk6ICdhY2NvdW50JywKCQkJZm9ybTogdGhpcy4kZm9ybS5jcmVhdGVGb3JtKHRoaXMpLAoJCQlsb2NrOiBmYWxzZQoJCX0KCX0sCgljb21wdXRlZDogewoJCXN5c3RlbU5hbWUgKCkgewoJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZy5zeXN0ZW1OYW1lCgkJfSwKCQljb3B5cmlnaHQgKCkgewoJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZy5jb3B5cmlnaHQKCQl9Cgl9LAoJbWV0aG9kczogewoJCW9uU3VibWl0IChlKSB7CgkJCWlmKHRoaXMubG9jaykgcmV0dXJuOwoJCQl0aGlzLmxvY2sgPSB0cnVlOwoJCQllLnByZXZlbnREZWZhdWx0KCkKCQkJY29uc3QgZmllbGRzID0gWydVc2VySWQnLCAnT2xkUHdkJywgJ05ld1B3ZCddCgkJCXRoaXMuZm9ybS52YWxpZGF0ZUZpZWxkcyhmaWVsZHMsIHt9LCAoZXJyLCB2YWx1ZXMpID0+IHsKCQkJCWlmICghZXJyKSB7CgkJCQkJdGhpcy5sb2dnaW5nID0gdHJ1ZQoJCQkJCWxldCBkYXRhID0gewoJCQkJCQlVc2VySWQ6IHRoaXMuZm9ybS5nZXRGaWVsZFZhbHVlKCdVc2VySWQnKSwKCQkJCQkJT2xkUHdkOiB0aGlzLmZvcm0uZ2V0RmllbGRWYWx1ZSgnT2xkUHdkJyksCgkJCQkJCU5ld1B3ZDogdGhpcy5mb3JtLmdldEZpZWxkVmFsdWUoJ05ld1B3ZCcpCiAgICAgICAgICAgICAgICAgICAgfQoJCQkJCXRoaXMuJGF4aW9zLnB1dCgnL2FwaS9VUy9DUCcsIGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQl0aGlzLmxvZ2dpbmcgPSBmYWxzZTsKCQkJCQkJdGhpcy5sb2NrID0gZmFsc2U7CgkJCQkJCWlmIChyZXMuY29kZSA9PT0gMjAwKSB7CgkJCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykKCQkJCQkJfQoJCQkJCX0pCgkJCQl9IGVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCdlcnI6ICcsIGVycikKCQkJCX0KCQkJfSkKCQl9Cgl9Cn0K"},{"version":3,"sources":["modifyPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"modifyPassword.vue","sourceRoot":"src/views/modifyPassword","sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<div class=\"content\">\n\t\t\t<div class=\"login\">\n\t\t\t\t<a-form @submit=\"onSubmit\" :form='form'>\n\t\t\t\t\t<a-tabs size=\"large\" :tabBarStyle=\"{textAlign: 'center'}\" style=\"padding: 0 2px;\" v-model=\"activeKey\" :animated='false'>\n\t\t\t\t\t\t<a-tab-pane tab=\"修改密码\" key=\"account\">\n\t\t\t\t\t\t\t<a-alert type=\"error\" :closable=\"true\" v-show=\"accountError\" :message=\"accountError\" showIcon style=\"margin-bottom: 24px;\" />\n\t\t\t\t\t\t\t<a-form-item>\n\t\t\t\t\t\t\t<a-input\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入用户id\"\n\t\t\t\t\t\t\t\tv-decorator=\"[\n\t\t\t\t\t\t\t\t'UserId',\n\t\t\t\t\t\t\t\t{ rules: [{ required: true, message: '请输入用户id!' }] }\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"user\" />\n\t\t\t\t\t\t\t</a-input>\n\t\t\t\t\t\t\t</a-form-item>\n\t\t\t\t\t\t\t<a-form-item>\n                                <a-input\n                                    size=\"large\"\n                                    placeholder=\"请输入旧密码\"\n                                    type=\"password\"\n                                    v-decorator=\"[\n                                    'OldPwd',\n                                    { rules: [{ required: true, message: '请输入旧密码!' }] }\n                                    ]\"\n                                    @pressEnter='onSubmit'\n                                >\n                                    <a-icon slot=\"prefix\" type=\"lock\" />\n                                </a-input>\n\t\t\t\t\t\t\t</a-form-item>\n                            <a-form-item>\n                                <a-input\n                                    size=\"large\"\n                                    placeholder=\"请输入新密码\"\n                                    type=\"password\"\n                                    v-decorator=\"[\n                                    'NewPwd',\n                                    { rules: [{ required: true, message: '请输入新密码!' }] }\n                                    ]\"\n                                    @pressEnter='onSubmit'\n                                >\n                                    <a-icon slot=\"prefix\" type=\"lock\" />\n                                </a-input>\n\t\t\t\t\t\t\t</a-form-item>\n\t\t\t\t\t\t</a-tab-pane>\n\t\t\t\t\t</a-tabs>\n\t\t\t\t\t<a-form-item>\n\t\t\t\t\t\t<a-button :loading=\"logging\" style=\"width: 100%;margin-top: 24px\" size=\"large\" htmlType=\"submit\" type=\"primary\">确定</a-button>\n\t\t\t\t\t</a-form-item>\n\t\t\t\t</a-form>\n\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t<!-- <global-footer :copyright=\"copyright\" /> -->\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tname: 'modify',\n\tdata () {\n\t\treturn {\n\t\t\tlogging: false,\n\t\t\taccountError: '',\n\t\t\tcaptchaError: '',\n\t\t\tactiveKey: 'account',\n\t\t\tform: this.$form.createForm(this),\n\t\t\tlock: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tsystemName () {\n\t\t\treturn this.$store.state.setting.systemName\n\t\t},\n\t\tcopyright () {\n\t\t\treturn this.$store.state.setting.copyright\n\t\t}\n\t},\n\tmethods: {\n\t\tonSubmit (e) {\n\t\t\tif(this.lock) return;\n\t\t\tthis.lock = true;\n\t\t\te.preventDefault()\n\t\t\tconst fields = ['UserId', 'OldPwd', 'NewPwd']\n\t\t\tthis.form.validateFields(fields, {}, (err, values) => {\n\t\t\t\tif (!err) {\n\t\t\t\t\tthis.logging = true\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tUserId: this.form.getFieldValue('UserId'),\n\t\t\t\t\t\tOldPwd: this.form.getFieldValue('OldPwd'),\n\t\t\t\t\t\tNewPwd: this.form.getFieldValue('NewPwd')\n                    }\n\t\t\t\t\tthis.$axios.put('/api/US/CP', data).then((res) => {\n\t\t\t\t\t\tthis.logging = false;\n\t\t\t\t\t\tthis.lock = false;\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tthis.$router.push('/login')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('err: ', err)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\toverflow: auto;\n\tbackground: #f0f2f5 url('https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg') no-repeat center 110px;\n\tbackground-size: 100%;\n  \t.content {\n\t\tpadding: 32px 0;\n\t\tflex: 1;\n\t\t@media (min-width: 768px){\n\t\t\tpadding: 112px 0 24px;\n\t\t}\n    \t.top {\n      \t\ttext-align: center;\n\t\t\t.header {\n\t\t\t\theight: 44px;\n\t\t\t\tline-height: 44px;\n\t\t\t\ta {\n\t\t\t\t\ttext-decoration: none;\n\t\t\t\t}\n\t\t\t\t.logo {\n\t\t\t\t\theight: 44px;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t\tmargin-right: 16px;\n\t\t\t\t}\n\t\t\t\t.title {\n\t\t\t\t\tfont-size: 33px;\n\t\t\t\t\tcolor: rgba(0,0,0,.85);\n\t\t\t\t\tfont-family: 'Myriad Pro', 'Helvetica Neue', Arial, Helvetica, sans-serif;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\ttop: 2px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.desc {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: rgba(0,0,0,.45);\n\t\t\t\tmargin-top: 12px;\n\t\t\t\tmargin-bottom: 40px;\n\t\t\t}\n\t\t}\n\t\t.login {\n\t\t\t.modify_btn {\n\t\t\t\tcolor: #1890ff;\n\t\t\t}\n\t\t\twidth: 368px;\n\t\t\tmargin: 0 auto;\n\t\t\t@media screen and (max-width: 576px) {\n\t\t\t\twidth: 95%;\n\t\t\t}\n\t\t\t@media screen and (max-width: 320px) {\n\t\t\t\t.captcha-button{\n\t\t\t\tfont-size: 14px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.icon {\n\t\t\t\tfont-size: 24px;\n\t\t\t\tcolor: rgba(0, 0, 0, 0.2);\n\t\t\t\tmargin-left: 16px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: color 0.3s;\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: #1890ff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"]}]}