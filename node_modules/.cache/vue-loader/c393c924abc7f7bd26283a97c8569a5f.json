{"remainingRequest":"/Users/chenyiding/TMS/CY/EP/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenyiding/TMS/CY/EP/src/views/Login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenyiding/TMS/CY/EP/src/views/Login/Login.vue","mtime":1596203466781},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHbG9iYWxGb290ZXIgZnJvbSAnQC9sYXlvdXRzL0dsb2JhbEZvb3RlcicKCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICdMb2dpbicsCgljb21wb25lbnRzOiB7CgkJR2xvYmFsRm9vdGVyCgl9LAoJZGF0YSAoKSB7CgkJcmV0dXJuIHsKCQkJbG9nZ2luZzogZmFsc2UsCgkJCWFjY291bnRFcnJvcjogJycsCgkJCWNhcHRjaGFFcnJvcjogJycsCgkJCWFjdGl2ZUtleTogJ2FjY291bnQnLAoJCQlmb3JtOiB0aGlzLiRmb3JtLmNyZWF0ZUZvcm0odGhpcyksCgkJCWxvY2s6IGZhbHNlCgkJfQoJfSwKCWNvbXB1dGVkOiB7CgkJc3lzdGVtTmFtZSAoKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5nLnN5c3RlbU5hbWUKCQl9LAoJCWNvcHlyaWdodCAoKSB7CgkJCXJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5nLmNvcHlyaWdodAoJCX0KCX0sCgltZXRob2RzOiB7CgkJbW9kaWZ5UGFzc3dvcmQoKSB7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvbW9kaWZ5JykKCQl9LAoKCQlvblN1Ym1pdCAoZSkgewoJCQlpZih0aGlzLmxvY2spIHJldHVybjsKCQkJdGhpcy5sb2NrID0gdHJ1ZTsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpCgkJCWNvbnN0IGZpZWxkcyA9IFsndXNlcm5hbWUnLCAncGFzc3dvcmQnXQoJCQl0aGlzLmZvcm0udmFsaWRhdGVGaWVsZHMoZmllbGRzLCB7fSwgKGVyciwgdmFsdWVzKSA9PiB7CgkJCQlpZiAoIWVycikgewoJCQkJCXRoaXMubG9nZ2luZyA9IHRydWUKCQkJCQlsZXQgZGF0YSA9IHsKCQkJCQkJQWNjb3VudDogdGhpcy5mb3JtLmdldEZpZWxkVmFsdWUoJ3VzZXJuYW1lJyksCgkJCQkJCVB3ZDogdGhpcy5mb3JtLmdldEZpZWxkVmFsdWUoJ3Bhc3N3b3JkJyksCgkJCQkJCUlQOiAnJwoJCQkJCX0KCQkJCQl0aGlzLiRheGlvcy5wdXQoJy9hcGkvTG9naW4vVG9Mb2dpbicsIGRhdGEpLnRoZW4oKHJlcykgPT4gewoJCQkJCQl0aGlzLmxvZ2dpbmcgPSBmYWxzZTsKCQkJCQkJdGhpcy5sb2NrID0gZmFsc2U7CgkJCQkJCWlmIChyZXMuY29kZSA9PT0gMjAwKSB7CgkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCByZXMuZGF0YS50b2tlbik7CgkJCQkJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcmluZm8nLCBKU09OLnN0cmluZ2lmeShyZXMuZGF0YSkpOwoJCQkJCQkJdGhpcy4kcm91dGVyLnB1c2goJy9saXN0L3Byb2R1Y3RsaXN0JykKCQkJCQkJfQoJCQkJCX0pCgkJCQl9IGVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCdlcnI6ICcsIGVycikKCQkJCX0KCQkJfSkKCQl9Cgl9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n\t<div class=\"container\">\n\t\t<div class=\"content\">\n\t\t\t<div class=\"login\">\n\t\t\t\t<a-form @submit=\"onSubmit\" :form='form'>\n\t\t\t\t\t<a-tabs size=\"large\" :tabBarStyle=\"{textAlign: 'center'}\" style=\"padding: 0 2px;\" v-model=\"activeKey\" :animated='false'>\n\t\t\t\t\t\t<a-tab-pane tab=\"账户密码登录\" key=\"account\">\n\t\t\t\t\t\t\t<a-alert type=\"error\" :closable=\"true\" v-show=\"accountError\" :message=\"accountError\" showIcon style=\"margin-bottom: 24px;\" />\n\t\t\t\t\t\t\t<a-form-item>\n\t\t\t\t\t\t\t<a-input\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入用户名\"\n\t\t\t\t\t\t\t\tv-decorator=\"[\n\t\t\t\t\t\t\t\t'username',\n\t\t\t\t\t\t\t\t{ rules: [{ required: true, message: '请输入用户名!' }] }\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"user\" />\n\t\t\t\t\t\t\t</a-input>\n\t\t\t\t\t\t\t</a-form-item>\n\t\t\t\t\t\t\t<a-form-item>\n\t\t\t\t\t\t\t<a-input\n\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入密码\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tv-decorator=\"[\n\t\t\t\t\t\t\t\t'password',\n\t\t\t\t\t\t\t\t{ rules: [{ required: true, message: '请输入密码!' }] }\n\t\t\t\t\t\t\t\t]\"\n\t\t\t\t\t\t\t\t@pressEnter='onSubmit'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"lock\" />\n\t\t\t\t\t\t\t</a-input>\n\t\t\t\t\t\t\t</a-form-item>\n\t\t\t\t\t\t</a-tab-pane>\n\t\t\t\t\t</a-tabs>\n\t\t\t\t\t<a-form-item>\n\t\t\t\t\t\t<a-button :loading=\"logging\" style=\"width: 100%;margin-top: 24px\" size=\"large\" htmlType=\"submit\" type=\"primary\">登录</a-button>\n\t\t\t\t\t</a-form-item>\n\t\t\t\t</a-form>\n\n\t\t\t\t<div class=\"modify_btn\" @click=\"modifyPassword\">修改密码</div>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t<!-- <global-footer :copyright=\"copyright\" /> -->\n\t</div>\n</template>\n\n<script>\nimport GlobalFooter from '@/layouts/GlobalFooter'\n\nexport default {\n\tname: 'Login',\n\tcomponents: {\n\t\tGlobalFooter\n\t},\n\tdata () {\n\t\treturn {\n\t\t\tlogging: false,\n\t\t\taccountError: '',\n\t\t\tcaptchaError: '',\n\t\t\tactiveKey: 'account',\n\t\t\tform: this.$form.createForm(this),\n\t\t\tlock: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tsystemName () {\n\t\t\treturn this.$store.state.setting.systemName\n\t\t},\n\t\tcopyright () {\n\t\t\treturn this.$store.state.setting.copyright\n\t\t}\n\t},\n\tmethods: {\n\t\tmodifyPassword() {\n\t\t\tthis.$router.push('/modify')\n\t\t},\n\n\t\tonSubmit (e) {\n\t\t\tif(this.lock) return;\n\t\t\tthis.lock = true;\n\t\t\te.preventDefault()\n\t\t\tconst fields = ['username', 'password']\n\t\t\tthis.form.validateFields(fields, {}, (err, values) => {\n\t\t\t\tif (!err) {\n\t\t\t\t\tthis.logging = true\n\t\t\t\t\tlet data = {\n\t\t\t\t\t\tAccount: this.form.getFieldValue('username'),\n\t\t\t\t\t\tPwd: this.form.getFieldValue('password'),\n\t\t\t\t\t\tIP: ''\n\t\t\t\t\t}\n\t\t\t\t\tthis.$axios.put('/api/Login/ToLogin', data).then((res) => {\n\t\t\t\t\t\tthis.logging = false;\n\t\t\t\t\t\tthis.lock = false;\n\t\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\n\t\t\t\t\t\t\tlocalStorage.setItem('userinfo', JSON.stringify(res.data));\n\t\t\t\t\t\t\tthis.$router.push('/list/productlist')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('err: ', err)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n\toverflow: auto;\n\tbackground: #f0f2f5 url('https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg') no-repeat center 110px;\n\tbackground-size: 100%;\n  \t.content {\n\t\tpadding: 32px 0;\n\t\tflex: 1;\n\t\t@media (min-width: 768px){\n\t\t\tpadding: 112px 0 24px;\n\t\t}\n    \t.top {\n      \t\ttext-align: center;\n\t\t\t.header {\n\t\t\t\theight: 44px;\n\t\t\t\tline-height: 44px;\n\t\t\t\ta {\n\t\t\t\t\ttext-decoration: none;\n\t\t\t\t}\n\t\t\t\t.logo {\n\t\t\t\t\theight: 44px;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t\tmargin-right: 16px;\n\t\t\t\t}\n\t\t\t\t.title {\n\t\t\t\t\tfont-size: 33px;\n\t\t\t\t\tcolor: rgba(0,0,0,.85);\n\t\t\t\t\tfont-family: 'Myriad Pro', 'Helvetica Neue', Arial, Helvetica, sans-serif;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\ttop: 2px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.desc {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: rgba(0,0,0,.45);\n\t\t\t\tmargin-top: 12px;\n\t\t\t\tmargin-bottom: 40px;\n\t\t\t}\n\t\t}\n\t\t.login {\n\t\t\t.modify_btn {\n\t\t\t\tcolor: #1890ff;\n\t\t\t}\n\t\t\twidth: 368px;\n\t\t\tmargin: 0 auto;\n\t\t\t@media screen and (max-width: 576px) {\n\t\t\t\twidth: 95%;\n\t\t\t}\n\t\t\t@media screen and (max-width: 320px) {\n\t\t\t\t.captcha-button{\n\t\t\t\tfont-size: 14px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.icon {\n\t\t\t\tfont-size: 24px;\n\t\t\t\tcolor: rgba(0, 0, 0, 0.2);\n\t\t\t\tmargin-left: 16px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: color 0.3s;\n\t\t\t\t&:hover {\n\t\t\t\t\tcolor: #1890ff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n"]}]}