{"remainingRequest":"/Users/chenyiding/TMS/CY/EP/node_modules/thread-loader/dist/cjs.js!/Users/chenyiding/TMS/CY/EP/node_modules/babel-loader/lib/index.js!/Users/chenyiding/TMS/CY/EP/node_modules/eslint-loader/index.js??ref--13-0!/Users/chenyiding/TMS/CY/EP/src/components/menu/menu.js","dependencies":[{"path":"/Users/chenyiding/TMS/CY/EP/src/components/menu/menu.js","mtime":1596203466779},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenyiding/TMS/CY/EP/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n\n/**\n * 该插件可根据菜单配置自动生成 ANTD menu组件\n * menuData示例：\n * [\n *  {\n *    title: '菜单标题',\n *    icon: '菜单图标',\n *    path: '菜单路由',\n *    invisible: 'boolean, 是否不可见',\n *    children: [子菜单配置]\n *  },\n *  {\n *    title: '菜单标题',\n *    icon: '菜单图标',\n *    path: '菜单路由',\n *    invisible: 'boolean, 是否不可见',\n *    children: [子菜单配置]\n *  }\n * ]\n **/\nimport Menu from 'ant-design-vue/es/menu';\nimport Icon from 'ant-design-vue/es/icon';\nvar Item = Menu.Item,\n    SubMenu = Menu.SubMenu; // 默认菜单图标数组，如果菜单没配置图标，则会设置从该数组随机取一个图标配置\n\nvar iconArr = ['dashboard', 'user', 'form', 'setting', 'message', 'safety', 'bell', 'delete', 'code-o', 'poweroff', 'eye-o', 'hourglass'];\nexport default {\n  name: 'IMenu',\n  props: {\n    menuData: {\n      type: Array,\n      required: true\n    },\n    theme: {\n      type: String,\n      required: false,\n      default: 'dark'\n    },\n    mode: {\n      type: String,\n      required: false,\n      default: 'inline'\n    },\n    collapsed: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      openKeys: [],\n      selectedKeys: [],\n      cachedOpenKeys: []\n    };\n  },\n  computed: {\n    rootSubmenuKeys: function rootSubmenuKeys(vm) {\n      var keys = [];\n      vm.menuData.forEach(function (item) {\n        keys.push(item.path);\n      });\n      return keys;\n    }\n  },\n  created: function created() {\n    this.updateMenu();\n  },\n  watch: {\n    collapsed: function collapsed(val) {\n      if (val) {\n        this.cachedOpenKeys = this.openKeys;\n        this.openKeys = [];\n      } else {\n        this.openKeys = this.cachedOpenKeys;\n      }\n    },\n    '$route': function $route() {\n      this.updateMenu();\n    }\n  },\n  methods: {\n    renderIcon: function renderIcon(h, icon) {\n      return icon === 'none' ? null : h(Icon, {\n        props: {\n          type: icon !== undefined ? icon : iconArr[Math.floor(Math.random() * iconArr.length)]\n        }\n      });\n    },\n    renderMenuItem: function renderMenuItem(h, menu, pIndex, index) {\n      return h(Item, {\n        key: menu.path ? menu.path : 'item_' + pIndex + '_' + index\n      }, [h('a', {\n        attrs: {\n          href: '#' + menu.path\n        }\n      }, [this.renderIcon(h, menu.icon), h('span', [menu.name])])]);\n    },\n    renderSubMenu: function renderSubMenu(h, menu, pIndex, index) {\n      var this2_ = this;\n      var subItem = [h('span', {\n        slot: 'title'\n      }, [this.renderIcon(h, menu.icon), h('span', [menu.name])])];\n      var itemArr = [];\n      var pIndex_ = pIndex + '_' + index;\n      menu.children.forEach(function (item, i) {\n        itemArr.push(this2_.renderItem(h, item, pIndex_, i));\n      });\n      return h(SubMenu, {\n        key: menu.path ? menu.path : 'submenu_' + pIndex + '_' + index\n      }, subItem.concat(itemArr));\n    },\n    renderItem: function renderItem(h, menu, pIndex, index) {\n      if (!menu.invisible) {\n        return menu.children ? this.renderSubMenu(h, menu, pIndex, index) : this.renderMenuItem(h, menu, pIndex, index);\n      }\n    },\n    renderMenu: function renderMenu(h, menuTree) {\n      var this2_ = this;\n      var menuArr = [];\n      menuTree.forEach(function (menu, i) {\n        menuArr.push(this2_.renderItem(h, menu, '0', i));\n      });\n      return menuArr;\n    },\n    onOpenChange: function onOpenChange(openKeys) {\n      var _this = this;\n\n      var latestOpenKey = openKeys.find(function (key) {\n        return _this.openKeys.indexOf(key) === -1;\n      });\n\n      if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n        this.openKeys = openKeys;\n      } else {\n        this.openKeys = latestOpenKey ? [latestOpenKey] : [];\n      }\n    },\n    updateMenu: function updateMenu() {\n      var routes = this.$route.matched.concat();\n      this.selectedKeys = [routes.pop().path];\n      var openKeys = [];\n      routes.forEach(function (item) {\n        openKeys.push(item.path);\n      });\n      this.collapsed || this.mode === 'horizontal' ? this.cachedOpenKeys = openKeys : this.openKeys = openKeys;\n    }\n  },\n  render: function render(h) {\n    var _this2 = this;\n\n    return h(Menu, {\n      props: {\n        theme: this.$props.theme,\n        mode: this.$props.mode,\n        openKeys: this.openKeys,\n        selectedKeys: this.selectedKeys\n      },\n      on: {\n        openChange: this.onOpenChange,\n        select: function select(obj) {\n          _this2.selectedKeys = obj.selectedKeys;\n\n          _this2.$emit('select', obj);\n        }\n      }\n    }, this.renderMenu(h, this.menuData));\n  }\n};",{"version":3,"sources":["/Users/chenyiding/TMS/CY/EP/src/components/menu/menu.js"],"names":["Menu","Icon","Item","SubMenu","iconArr","name","props","menuData","type","Array","required","theme","String","default","mode","collapsed","Boolean","data","openKeys","selectedKeys","cachedOpenKeys","computed","rootSubmenuKeys","vm","keys","forEach","item","push","path","created","updateMenu","watch","val","methods","renderIcon","h","icon","undefined","Math","floor","random","length","renderMenuItem","menu","pIndex","index","key","attrs","href","renderSubMenu","this2_","subItem","slot","itemArr","pIndex_","children","i","renderItem","concat","invisible","renderMenu","menuTree","menuArr","onOpenChange","latestOpenKey","find","indexOf","routes","$route","matched","pop","render","$props","on","openChange","select","obj","$emit"],"mappings":"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","sourcesContent":["/**\n * 该插件可根据菜单配置自动生成 ANTD menu组件\n * menuData示例：\n * [\n *  {\n *    title: '菜单标题',\n *    icon: '菜单图标',\n *    path: '菜单路由',\n *    invisible: 'boolean, 是否不可见',\n *    children: [子菜单配置]\n *  },\n *  {\n *    title: '菜单标题',\n *    icon: '菜单图标',\n *    path: '菜单路由',\n *    invisible: 'boolean, 是否不可见',\n *    children: [子菜单配置]\n *  }\n * ]\n **/\nimport Menu from 'ant-design-vue/es/menu'\nimport Icon from 'ant-design-vue/es/icon'\n\nconst { Item, SubMenu } = Menu\n\n// 默认菜单图标数组，如果菜单没配置图标，则会设置从该数组随机取一个图标配置\nconst iconArr = ['dashboard', 'user', 'form', 'setting', 'message', 'safety', 'bell', 'delete', 'code-o', 'poweroff', 'eye-o', 'hourglass']\n\nexport default {\n    name: 'IMenu',\n    props: {\n        menuData: {\n            type: Array,\n            required: true\n        },\n        theme: {\n            type: String,\n            required: false,\n            default: 'dark'\n        },\n        mode: {\n            type: String,\n            required: false,\n            default: 'inline'\n        },\n        collapsed: {\n            type: Boolean,\n            required: false,\n            default: false\n        }\n    },\n    data() {\n        return {\n            openKeys: [],\n            selectedKeys: [],\n            cachedOpenKeys: []\n        }\n    },\n    computed: {\n        rootSubmenuKeys: (vm) => {\n            let keys = []\n            vm.menuData.forEach(item => {\n                keys.push(item.path)\n            })\n            return keys\n        }\n    },\n    created() {\n        this.updateMenu()\n    },\n    watch: {\n        collapsed(val) {\n            if (val) {\n                this.cachedOpenKeys = this.openKeys\n                this.openKeys = []\n            } else {\n                this.openKeys = this.cachedOpenKeys\n            }\n        },\n        '$route': function() {\n            this.updateMenu()\n        }\n    },\n    methods: {\n        renderIcon: function(h, icon) {\n            return icon === 'none' ? null :\n                h(\n                    Icon, {\n                        props: { type: icon !== undefined ? icon : iconArr[Math.floor((Math.random() * iconArr.length))] }\n                    })\n        },\n        renderMenuItem: function(h, menu, pIndex, index) {\n            return h(\n                Item, {\n                    key: menu.path ? menu.path : 'item_' + pIndex + '_' + index\n                }, [\n                    h(\n                        'a', { attrs: { href: '#' + menu.path } }, [\n                            this.renderIcon(h, menu.icon),\n                            h('span', [menu.name])\n                        ]\n                    )\n                ]\n            )\n        },\n        renderSubMenu: function(h, menu, pIndex, index) {\n            var this2_ = this\n            var subItem = [h('span', { slot: 'title' }, [\n                this.renderIcon(h, menu.icon),\n                h('span', [menu.name])\n            ])]\n            var itemArr = []\n            var pIndex_ = pIndex + '_' + index\n            menu.children.forEach(function(item, i) {\n                itemArr.push(this2_.renderItem(h, item, pIndex_, i))\n            })\n            return h(\n                SubMenu, { key: menu.path ? menu.path : 'submenu_' + pIndex + '_' + index },\n                subItem.concat(itemArr)\n            )\n        },\n        renderItem: function(h, menu, pIndex, index) {\n            if (!menu.invisible) {\n                return menu.children ? this.renderSubMenu(h, menu, pIndex, index) : this.renderMenuItem(h, menu, pIndex, index)\n            }\n        },\n        renderMenu: function(h, menuTree) {\n            var this2_ = this\n            var menuArr = []\n            menuTree.forEach(function(menu, i) {\n                menuArr.push(this2_.renderItem(h, menu, '0', i))\n            })\n            return menuArr\n        },\n        onOpenChange(openKeys) {\n            const latestOpenKey = openKeys.find(key => this.openKeys.indexOf(key) === -1)\n            if (this.rootSubmenuKeys.indexOf(latestOpenKey) === -1) {\n                this.openKeys = openKeys\n            } else {\n                this.openKeys = latestOpenKey ? [latestOpenKey] : []\n            }\n        },\n        updateMenu() {\n            let routes = this.$route.matched.concat()\n            this.selectedKeys = [routes.pop().path]\n            let openKeys = []\n            routes.forEach((item) => {\n                openKeys.push(item.path)\n            })\n            this.collapsed || this.mode === 'horizontal' ? this.cachedOpenKeys = openKeys : this.openKeys = openKeys\n        }\n    },\n    render(h) {\n        return h(\n            Menu, {\n                props: {\n                    theme: this.$props.theme,\n                    mode: this.$props.mode,\n                    openKeys: this.openKeys,\n                    selectedKeys: this.selectedKeys\n                },\n                on: {\n                    openChange: this.onOpenChange,\n                    select: (obj) => {\n                        this.selectedKeys = obj.selectedKeys\n                        this.$emit('select', obj)\n                    }\n                }\n            }, this.renderMenu(h, this.menuData)\n        )\n    }\n}"]}]}